<!DOCTYPE html>
<html lang="en">
<head>
    
</head>
<body onload="checkRegistration()">
    <div id="regDiv">   

    </div>
    <script>
        function checkRegistration(){
            var cookie = document.cookie;
            var rD = document.getElementById("regDiv");
            var s = cookie.split('; ');
            var cookieObj = {};
            var c;

            for(var i=0; i<s.length; i++){
                c = s[i].split('=')
                cookieObj[c[0]] = c[1];
            }
            if ("register" in cookieObj){
                rD.innerHTML = "Hello, "+ cookieObj['register']
            }
            else{
                rD.innerHTML = "Name: <input type='text' id='name'/> <input type='button' value='Register' onclick='regFunc()'>"
            }
        }
        function regFunc(){
            var inputName = document.getElementById("name");
            var name = inputName.value;
            var expDate = new Date;
            expDate.setTime((new Date).getTime() + 20*1000);
            document.cookie = `register = ${name}; expires = ${expDate.toGMTString()}; path=/`
            checkRegistration();
        }
    </script>
</body>
</html>